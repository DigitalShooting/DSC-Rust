<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>WebSocket Test</title>
  </head>
  <body>
    <script>
      var socket = new WebSocket("ws://127.0.0.1:3009", "rust-websocket");
      socket.onmessage = function (event) {
        var received = document.getElementById("received");
        var br = document.createElement("BR");
        var text = document.createTextNode(event.data);
        received.appendChild(br);
        received.appendChild(text);
      };

      function new_target() {
        send({
          "type": "NewTarget"
        });
      }

      function set_disciplin() {
        send({
          "type": "SetDisciplin",
          "name": "test"
        });
      }

      function send(element) {
        socket.send(JSON.stringify(element));
      }
    </script>
      <p id="received">
        <strong>Received Messages:</strong>
      </p>
      <button onclick="new_target()">new_target</button>
      <button onclick="set_disciplin()">set_disciplin</button>
  </body>
</html>
